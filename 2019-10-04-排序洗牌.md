---
title: 排序洗牌
date: 2019-10-04 10:00:00
tags: 算法
---

> 本系列文章主要介绍常用的算法和数据结构的知识，记录的是《Algorithms I/II》课程的内容，采用的是“[算法（第4版）](https://book.douban.com/subject/19952400/)”这本红宝书作为学习教材的，语言是java。这本书的名气我不用多说吧？豆瓣评分9.4，我自己也认为是极好的学习算法的书籍。
>
> **通过这系列文章，可以加深对数据结构和基本算法的理解（个人认为比学校讲的清晰多了），并加深对java的理解。**

## 洗牌算法

> 洗牌的思想很简单，就是像洗扑克牌一样，对一组数据进行随机打乱，这个算法在很多应用里都非常有用，特别是对于后面需要介绍的快排来说，这个算法直接影响了快排的效率。

洗牌的算法这里提了2种 

## 排序洗牌

- 思想很简单，先对**每个元素生成一个随机数，然后对这些随机数进行排序**

排序前

![](http://img.hksite.cn/2019-03-02-032420.png)

排序后

![](http://img.hksite.cn/2019-03-02-032432.png)

## Knuth洗牌

- 一个更简单的算法，不用sort，每次产生一个[0,i]的随机数r，然后交换a[i]和a[r]，这个是个线性时间算法。

![](http://img.hksite.cn/2019-03-01-20160406233330434.gif)

### Knuth洗牌代码

```java
public class StdRandom
{
   ...
   public static void shuffle(Object[] a)
   {
      int N = a.length;
      for (int i = 0; i < N; i++)
      {
         int r = StdRandom.uniform(i + 1);  //<<--[0,i]
         exch(a, i, r);
      }
   }
}
```

**注：**洗牌的最佳算法是用硬件随机数生成器

**基本观点：**洗一副牌是复杂的